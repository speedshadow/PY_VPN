{% extends 'base.html' %}
{% block content %}
<main class="coupons-list" aria-label="Lista de Cupons">
    <div class="container mx-auto px-4 py-12 max-w-5xl">
        <h1 class="text-3xl font-bold mb-8 flex items-center gap-2"><i class="fa-solid fa-file-alt text-yellow-600"></i> VPN Coupons & Deals</h1>
        <div class="grid md:grid-cols-2 gap-8" role="list">
            {% for coupon in coupons %}
            <div class="bg-white rounded-xl shadow-lg p-6 flex flex-col gap-4" role="listitem">
                <div class="flex flex-col md:flex-row md:items-center gap-4">
                    <div class="flex-1">
                        <h2 class="text-xl font-bold">{{ coupon.product_name }}</h2>
                        <p class="text-gray-500 text-sm mb-2">{{ coupon.product_link }}</p>
                        <div class="flex gap-2 text-sm mb-2">
                            <span class="bg-yellow-100 text-yellow-700 px-2 py-1 rounded flex items-center gap-1"><i class="fa-solid fa-tag"></i> {{ coupon.coupon_code }}</span>
                            {% if coupon.expiry_date %}<span class="bg-gray-100 text-gray-700 px-2 py-1 rounded flex items-center gap-1"><i class="fa-solid fa-clock"></i> Expires: {{ coupon.expiry_date|date:'Y-m-d' }}</span>{% endif %}
                            {% if coupon.is_active %}<span class="bg-green-100 text-green-700 px-2 py-1 rounded flex items-center gap-1"><i class="fa-solid fa-check"></i> Active</span>{% else %}<span class="bg-red-100 text-red-700 px-2 py-1 rounded flex items-center gap-1"><i class="fa-solid fa-xmark"></i> Inactive</span>{% endif %}
                        </div>
                    <h2 class="text-xl font-bold">{{ coupon.product_name }}</h2>
                    <p class="text-gray-500 text-sm mb-2">{{ coupon.product_link }}</p>
                    <div class="flex gap-2 text-sm mb-2">
                        <span class="bg-yellow-100 text-yellow-700 px-2 py-1 rounded flex items-center gap-1"><i class="fa-solid fa-tag"></i> {{ coupon.coupon_code }}</span>
                        {% if coupon.expiry_date %}<span class="bg-gray-100 text-gray-700 px-2 py-1 rounded flex items-center gap-1"><i class="fa-solid fa-clock"></i> Expires: {{ coupon.expiry_date|date:'Y-m-d' }}</span>{% endif %}
                        {% if coupon.is_active %}<span class="bg-green-100 text-green-700 px-2 py-1 rounded flex items-center gap-1"><i class="fa-solid fa-check"></i> Active</span>{% else %}<span class="bg-red-100 text-red-700 px-2 py-1 rounded flex items-center gap-1"><i class="fa-solid fa-xmark"></i> Inactive</span>{% endif %}
                    </div>
                </div>
                <div class="flex flex-col gap-2 items-end">
                    <a href="{{ coupon.direct_link }}" class="px-4 py-2 bg-orange-500 text-white rounded-lg font-semibold flex items-center gap-2 hover:bg-orange-600 transition" target="_blank"><i class="fa-solid fa-link"></i> Get Deal</a>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="col-span-full text-center text-gray-400 py-12">No coupons found.</div>
        {% endfor %}
    </div>
</div>
{% endblock %}
